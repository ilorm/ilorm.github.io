


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.0">
    
    
      
        <title>Create connector - Ilorm documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.89dc9fe3.min.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecd4686e.min.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#create-a-connector" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="Ilorm documentation" class="md-header-nav__button md-logo" aria-label="Ilorm documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Ilorm documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Create connector
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/ilorm/core/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ilorm
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Ilorm documentation" class="md-nav__button md-logo" aria-label="Ilorm documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    Ilorm documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/ilorm/core/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    ilorm
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../quick_start/" title="Quick start" class="md-nav__link">
      Quick start
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      API
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="API" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/core/" title="Core" class="md-nav__link">
      Core
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/model/" title="Model" class="md-nav__link">
      Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/query/" title="Query" class="md-nav__link">
      Query
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/schema/" title="Schema" class="md-nav__link">
      Schema
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/fields/" title="Field" class="md-nav__link">
      Field
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../api/transaction/" title="Transaction" class="md-nav__link">
      Transaction
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      Advanced
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Advanced" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Advanced
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Create connector
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Create connector" class="md-nav__link md-nav__link--active">
      Create connector
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-connector-class" class="md-nav__link">
    The connector class
  </a>
  
    <nav class="md-nav" aria-label="The connector class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basics" class="md-nav__link">
    Basics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mandatory-operation" class="md-nav__link">
    Mandatory operation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-related" class="md-nav__link">
    Database related
  </a>
  
    <nav class="md-nav" aria-label="Database related">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ilorm-query" class="md-nav__link">
    Ilorm query
  </a>
  
    <nav class="md-nav" aria-label="Ilorm query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#querybuilder" class="md-nav__link">
    queryBuilder
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updatebuilder" class="md-nav__link">
    updateBuilder
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-operation-to-implement" class="md-nav__link">
    Database operation to implement
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connector-factory" class="md-nav__link">
    Connector factory
  </a>
  
    <nav class="md-nav" aria-label="Connector factory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modelfactory" class="md-nav__link">
    modelFactory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queryfactory" class="md-nav__link">
    queryFactory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Connectors
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z" /></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Connectors" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
        </span>
        Connectors
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../connectors/intro/" title="Intro" class="md-nav__link">
      Intro
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connectors/knex/" title="Knex" class="md-nav__link">
      Knex
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../connectors/mongodb/" title="MongoDB" class="md-nav__link">
      MongoDB
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#the-connector-class" class="md-nav__link">
    The connector class
  </a>
  
    <nav class="md-nav" aria-label="The connector class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basics" class="md-nav__link">
    Basics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mandatory-operation" class="md-nav__link">
    Mandatory operation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-related" class="md-nav__link">
    Database related
  </a>
  
    <nav class="md-nav" aria-label="Database related">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ilorm-query" class="md-nav__link">
    Ilorm query
  </a>
  
    <nav class="md-nav" aria-label="Ilorm query">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#querybuilder" class="md-nav__link">
    queryBuilder
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updatebuilder" class="md-nav__link">
    updateBuilder
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#database-operation-to-implement" class="md-nav__link">
    Database operation to implement
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connector-factory" class="md-nav__link">
    Connector factory
  </a>
  
    <nav class="md-nav" aria-label="Connector factory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modelfactory" class="md-nav__link">
    modelFactory
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queryfactory" class="md-nav__link">
    queryFactory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ilorm/core/edit/master/docs/advanced/create_connector.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z" /></svg>
                  </a>
                
                
                  
                
                
                <h1 id="create-a-connector">Create a connector<a class="headerlink" href="#create-a-connector" title="Permanent link">&para;</a></h1>
<h2 id="the-connector-class">The connector class<a class="headerlink" href="#the-connector-class" title="Permanent link">&para;</a></h2>
<h3 id="basics">Basics<a class="headerlink" href="#basics" title="Permanent link">&para;</a></h3>
<p>To create a connector, you need to implement a class Connector.</p>
<p>The class Connector is always linked with a database
The instance of the class is linked with a table, a collection or a subset of data.</p>
<p>Example :</p>
<ul>
<li>
<p>On a SQL database</p>
<ul>
<li>
<p>The class is linked with the full database</p>
</li>
<li>
<p>An instance of the class is linked with a table</p>
</li>
</ul>
</li>
<li>
<p>On a MongoDB database</p>
<ul>
<li>
<p>The class linked with the full database</p>
</li>
<li>
<p>An instance of the class is linked with a collection</p>
</li>
</ul>
</li>
</ul>
<h3 id="mandatory-operation">Mandatory operation<a class="headerlink" href="#mandatory-operation" title="Permanent link">&para;</a></h3>
<p>The class need to implement mandatory operation to be fully functional.
The operations are divided into :</p>
<ul>
<li>
<p>Database related : Update, Find, Create, Remove data</p>
</li>
<li>
<p>Connector factory : The connector instantiate his own Query class or Model class to overwrite
basic behavior.</p>
</li>
</ul>
<h3 id="database-related">Database related<a class="headerlink" href="#database-related" title="Permanent link">&para;</a></h3>
<h4 id="ilorm-query">Ilorm query<a class="headerlink" href="#ilorm-query" title="Permanent link">&para;</a></h4>
<p>The majority of database related operation receive a Query instance as parameter.
You need to use this query instance to create the same query in the database language
to do it. The query have some useful method : queryBuilder and updateBuilder.</p>
<h5 id="querybuilder">queryBuilder<a class="headerlink" href="#querybuilder" title="Permanent link">&para;</a></h5>
<p>query.queryBuilder is use to restrict your query. You will put as parameter of queryBuilder
a set of handler. Each handler should be called back (in function of the query).
<div class="highlight"><pre><span></span><code><span class="nx">query</span><span class="p">.</span><span class="nx">queryBuilder</span><span class="p">({</span>
  <span class="c1">// On option will be called if skip &amp; limit was put :</span>
  <span class="nx">onOption</span><span class="o">:</span> <span class="p">(</span><span class="nx">skip</span><span class="p">,</span> <span class="nx">limit</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{},</span>

  <span class="c1">// If an or operator is used on the query, this handler will be called</span>
  <span class="c1">// The parameter is multiple query instance (each or branch)</span>
  <span class="nx">onOr</span><span class="o">:</span> <span class="nx">arrayOfQuery</span> <span class="p">=&gt;</span> <span class="p">{},</span>

  <span class="c1">// If one or more field are select, this handler will be called</span>
  <span class="c1">// You need to restrict result only to the specified field</span>
  <span class="nx">onSelect</span><span class="o">:</span> <span class="p">({</span> <span class="nx">field</span><span class="p">,</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{},</span>

  <span class="c1">// Called (in order), to set the order of the result.</span>
  <span class="c1">// Key is the target sorting key</span>
  <span class="c1">// behavior precise if it&#39;s ascending or descending sorting</span>
  <span class="nx">onSort</span><span class="o">:</span> <span class="p">({</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">behavior</span><span class="p">,</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{},</span>

  <span class="c1">// Called per each query operation</span>
  <span class="c1">// Key is the target key</span>
  <span class="c1">// Operation is EQUAL, NOT_EQUAL...</span>
  <span class="c1">// Value is the value applied to the operation</span>
  <span class="nx">onOperator</span><span class="o">:</span> <span class="p">({</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">operation</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{}</span>
<span class="p">});</span>
</code></pre></div>
Behavior and operation are equal to specific constants. The constants can be found in
<code>ilorm-constants</code> in the QUERY constants :
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">QUERY</span><span class="p">,</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ilorm-constants&#39;</span><span class="p">);</span>

<span class="c1">// Possible value of operation on the onOperator handler :</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">OPERATIONS</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">QUERY</span><span class="p">;</span>
<span class="nx">OPERATION</span><span class="p">.</span><span class="nx">IS</span> <span class="c1">// equal (===)</span>
<span class="nx">OPERATION</span><span class="p">.</span><span class="nx">IS_NOT</span> <span class="c1">// Not equal (!==)</span>
<span class="nx">OPERATION</span><span class="p">.</span><span class="nx">IS_IN</span> <span class="c1">// The value is in the specified array of possibility</span>
<span class="nx">OPERATION</span><span class="p">.</span><span class="nx">IS_NOT_IN</span> <span class="c1">// The value is not in the specified array of possibility</span>
<span class="nx">OPERATION</span><span class="p">.</span><span class="nx">GREATHER_THAN</span> <span class="c1">// Superior of the value</span>
<span class="nx">OPERATION</span><span class="p">.</span><span class="nx">LOWER_THAN</span> <span class="c1">// Inferior of the value</span>
<span class="nx">OPERATION_GREATHER_OR_EQUAL_THAN</span> <span class="c1">// Superior or equal of the value</span>
<span class="nx">OPERATION</span><span class="p">.</span><span class="nx">LOWER_OR_EQUAL_THAN</span> <span class="c1">// Inferior or equal of the value</span>

<span class="c1">// Possible value of behavior on the onSort handler :</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">SORT_BEHAVIOR</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">QUERY</span><span class="p">;</span>
<span class="nx">SORT_BEHAVIOR</span><span class="p">.</span><span class="nx">ASCENDING</span> <span class="c1">// Ascending order</span>
<span class="nx">SORT_BEHAVIOR</span><span class="p">.</span><span class="nx">DESCENDING</span> <span class="c1">// Descending order</span>
</code></pre></div></p>
<h5 id="updatebuilder">updateBuilder<a class="headerlink" href="#updatebuilder" title="Permanent link">&para;</a></h5>
<p>query.updateBuilder is used to handle the update kind of query. Like the queryBuilder
you need to give him handler to build your query
<div class="highlight"><pre><span></span><code><span class="nx">query</span><span class="p">.</span><span class="nx">updateBuilder</span><span class="p">({</span>
  <span class="c1">// Apply an update operation</span>
  <span class="c1">// Key is the targeted key</span>
  <span class="c1">// Operator is the operation to make</span>
  <span class="c1">// Value is the value to apply</span>
  <span class="nx">onOperator</span><span class="o">:</span> <span class="p">({</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">operator</span><span class="p">,</span> <span class="nx">value</span><span class="p">,</span> <span class="p">})</span> <span class="p">=&gt;</span> <span class="p">{},</span>
<span class="p">})</span>
</code></pre></div></p>
<p>You can use the OPERATIONS constant to compare with the operator
<div class="highlight"><pre><span></span><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">OPERATIONS</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;ilorm-constants&#39;</span><span class="p">).</span><span class="nx">QUERY</span><span class="p">;</span>

<span class="c1">// Set the value associated with the key :</span>
<span class="nx">OPERATIONS</span><span class="p">.</span><span class="nx">SET</span>

<span class="c1">// Increment the value associated with the key (could be a negative number to decrement) :</span>
<span class="nx">OPERATIONS</span><span class="p">.</span><span class="nx">ADD</span>
</code></pre></div></p>
<h4 id="database-operation-to-implement">Database operation to implement<a class="headerlink" href="#database-operation-to-implement" title="Permanent link">&para;</a></h4>
<p>This part list all database related method to implement in your Connector.
All operations are async :</p>
<ul>
<li>
<p>count(query) : Return the number of element associated with the specified query.</p>
</li>
<li>
<p>create(item|arrayOfItem) : The handler need to create all item into the database.</p>
</li>
<li>
<p>find(query) : Return an array of all element linked with the specified query.</p>
</li>
<li>
<p>findOne(query) : Return the first element linked with the specified query.</p>
</li>
<li>
<p>remove(query) : Remove all element which match the query</p>
</li>
<li>
<p>removeOne(query) : RemoveOne element which match the query</p>
</li>
<li>
<p>stream(query) : Return a stream which stream all element associated with the query.</p>
</li>
<li>
<p>update(query) : Update all element which match the query</p>
</li>
<li>
<p>updateOne(query) : Update the first element which match the query</p>
</li>
</ul>
<h3 id="connector-factory">Connector factory<a class="headerlink" href="#connector-factory" title="Permanent link">&para;</a></h3>
<p>On your connector, you need to implement to more method :</p>
<ul>
<li>
<p>modelFactory : Will return a Model class linked with your connector.</p>
</li>
<li>
<p>queryFactory : Will return a Query class linked with your connector.</p>
</li>
</ul>
<p>Both method take in parameter a base Class used as parent of the future class.</p>
<h4 id="modelfactory">modelFactory<a class="headerlink" href="#modelfactory" title="Permanent link">&para;</a></h4>
<p>With ilorm, every Model are inheritance of two class minimum :</p>
<ul>
<li>
<p>BaseModel : The lowest level, this class is defined in ilorm core.</p>
</li>
<li>
<p>FactoryModel : Overload BaseModel to specify name, schema, connector, plugin, linked with 
the current model. This Class is generated to every model when calling ilorm.newModel. This
class is defined in ilorm core too. This class is given in parameter of ModelFactory</p>
</li>
<li>
<p>DatabaseModel : The last mandatory level, it's the result the modelFactory, you can add
every kind of specific behavior of your database here.</p>
</li>
<li>
<p>Plugin could overload BaseModel (you can have Model inheritance between BaseModel and
FactoryModel).</p>
</li>
<li>The final user could overload your DatabaseModel.</li>
</ul>
<p>The signature of modelFactory is ;
DatabaseModel result = Connector.modelFactory({ name, schema, ParentModel });</p>
<ul>
<li>
<p>name : The name of the model, given by the developer who using your connector.</p>
</li>
<li>
<p>schema : The schema binded with the current model.</p>
</li>
<li>
<p>ParentModel : The FactoryModel (Your Model need to inherit from this parameter).</p>
</li>
</ul>
<h4 id="queryfactory">queryFactory<a class="headerlink" href="#queryfactory" title="Permanent link">&para;</a></h4>
<p>Query are similar to Model. Every query are composed by a BaseQuery (defined in core),
overloaded by InternalQuery to specify the binded model. And your connector Query is the last
part of the system. Plugin could overload BaseQuery.</p>
<p>The signature of the queryFactory is :
DatabaseQuery result = Connector.queryFactory({ schema, ParentQuery, });</p>
<ul>
<li>
<p>schema : The schema binded with your query</p>
</li>
<li>
<p>ParentQuery : The ParentQuery (your Query need to inherit from this parameter)</p>
</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../../api/transaction/" title="Transaction" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Transaction
              </div>
            </div>
          </a>
        
        
          <a href="../../connectors/intro/" title="Intro" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Intro
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.36cbf620.min.js"></script>
      <script src="../../assets/javascripts/bundle.00c583dd.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.7f7c8775.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
    
  </body>
</html>